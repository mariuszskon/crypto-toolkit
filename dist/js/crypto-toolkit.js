function gid(e){return document.getElementById(e)}function highlightChosen(e){for(var a=0;a<mainToolbarButtons.length;a++)mainToolbarButtons[a].style.backgroundColor="#FF6600";e.style.backgroundColor="#FF9900"}function manageToolbarButtons(e){highlightChosen(e.target);for(var a=0;a<subMenus.length;a++)subMenus[a].style.display="none";gid(e.target.id.replace(/button/,"menu")).style.display="block"}function openPage(){var e=window.location.hash.slice(1);if(""!==e){var a=gid(window.location.hash.slice(1));if(null!==a){for(var n=gid("main").getElementsByTagName("div"),t=0;t<n.length;t++)n[t].style.display="none";a.style.display="block"}}}function manageSubLinks(e){window.location=e.target.href,openPage()}function caesarGetDOMValues(){return{input:gid("caesar-input").value,key:parseInt(gid("caesar-key").value)}}function caesarDOMmanage(e){var a=caesarGetDOMValues(),n=cipher.caesar(e,a.input,a.key);null===n&&(n="Key is invalid (must be between 1 and "+(data.alphabet.length-1)+")"),gid("caesar-output").innerHTML=n}function vigenereGetDOMValues(){return{input:gid("vigenere-input").value,key:gid("vigenere-key").value}}function vigenereDOMmanage(e){var a=vigenereGetDOMValues();gid("vigenere-output").innerHTML=cipher.vigenere(e,a.input,a.key)}var data={},cipher={},modern={},cracker={};data.alphabet=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],data.upperbet=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],data.lowandup=data.alphabet.concat(data.upperbet),data.alphanumeric=data.lowandup.concat(["0","1","2","3","4","5","6","7","8","9"]),cipher.caesar=function(e,a,n){var t="",i=a.replace(/\s/g,"");if(1>n||n>data.alphabet.length-1)return null;for(var r=0;r<i.length;r++){var l,o=data.alphabet.indexOf(i.charAt(r));e===!0&&(l=o+n,l%=data.alphabet.length),e===!1&&(l=o-n,0>l&&(l+=data.alphabet.length)),t+=data.alphabet[l]}return t},cipher.vigenereGetKeyLetterAlphabetPosition=function(e,a){var n=e%a.length,t=a.charAt(n);return data.alphabet.indexOf(t)},cipher.vigenere=function(e,a,n){for(var t="",i=a.replace(/\s/g,""),r=0;r<i.length;r++)if("\n"!=i.charAt(r)){var l=data.alphabet.indexOf(i.charAt(r)),o="";if(e===!0)o=(l+cipher.vigenereGetKeyLetterAlphabetPosition(r,n))%data.alphabet.length;else if(e===!1){var g=l-cipher.vigenereGetKeyLetterAlphabetPosition(r,n);o=0>g?g+data.alphabet.length:g}t+=data.alphabet[o]}return t};for(var mainToolbarButtons=gid("main-ul").getElementsByTagName("a"),subMenus=gid("sub-ul").getElementsByTagName("ul"),i=0;i<mainToolbarButtons.length;i++)mainToolbarButtons[i].addEventListener("click",manageToolbarButtons);openPage();for(var subLinks=gid("sub-ul").getElementsByTagName("a"),i=0;i<subLinks.length;i++)subLinks[i].addEventListener("click",manageSubLinks);gid("caesar-en").addEventListener("click",function(){caesarDOMmanage(!0)}),gid("caesar-de").addEventListener("click",function(){caesarDOMmanage(!1)}),gid("vigenere-en").addEventListener("click",function(){vigenereDOMmanage(!0)}),gid("vigenere-de").addEventListener("click",function(){vigenereDOMmanage(!1)});